The goal of this library is to provide an open-\/source platform for perception algorithm pipelines. It provides methods for several computer vision algorithms such as Structure from Motion (SfM), Camera Calibration from a single image, Visual Odometry, Bundle Adjustment, Feature Detection and Tracking, Panoramic Image Stitching, etc. T\+A\+PL also provides methods for point-\/based processing such as KD tree implementation, Euclidian Clustering, Plane Fitting, and so on. ~\newline


 
\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{tapl_architecture.png}}
\end{DoxyImageNoCaption}
  

\doxysection*{\href{https://github.com/towardsautonomy/TAPL}{\texttt{ {\bfseries{Library Home (Git\+Hub)}}}}}

\doxysubsection*{Structure-\/from-\/\+Motion}

Structure from Motion (SfM) is inspired by our ability to learn about the 3D structure in the surrounding environment by moving through it. Given a sequence of images, we are able to simultaneously estimate both the 3D structure and the path the camera took.

SfM can be solved using either Factorization Method or Algebraic Method. Some of the drawbacks of the Factorization Method are\+: (1) It assumes that the 3D points are visible in all cameras. (2) It assumes Affine Cameras and therefore, there exists affine ambiguity in the solution in addition to similarity ambiguity.

In Algebraic Method, we assume a projective camera and then solve for camera poses and 3D points using non-\/linear optimization for bundle adjustment. We first compute Essential Matrix and then use it to find out 4 possible pairs of R,T for each pair of cameras. For each pair of R,T, we then compute the linear estimate of 3D points which is further refined using bundle adjustment for minimizing reprojection errors between pairwise cameras with non-\/linear optimization method (Gauss-\/\+Newton). These 3D points can further be used to filter the best R,T, by enforcing the criteria that all the points should be ahead of camera planes.

We also provide an implementation of Gauss-\/\+Newton Optimization for reprojection loss minimization during bundle adjustment, which is used in the S\+FM pipeline for 3D point estimation.

 
\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{sfm.png}}
\end{DoxyImageNoCaption}
  

\doxysubsubsection*{Li\+D\+AR Object Detection}

This example is provided at {\ttfamily examples/src/lidar\+Object\+Detection.\+cpp}. It reads in P\+CD point-\/cloud files, performs downsampling, ground-\/plane segmentation, and clustering, and then some post-\/processing filtering to get 3D Bounding-\/\+Box of objects. ~\newline


{\bfseries{Pipeline}} ~\newline



\begin{DoxyItemize}
\item Load point-\/cloud data. ~\newline

\item Downsample point-\/cloud (voxelization). ~\newline

\item Crop the point-\/cloud based on a region of interest. ~\newline

\item Segment out ground-\/plane using R\+A\+N\+S\+AC. ~\newline

\begin{DoxyItemize}
\item For {\itshape n} iterations\+: ~\newline

\begin{DoxyItemize}
\item Choose 3 random points. ~\newline

\item Fit a plane using least-\/squares. ~\newline

\item Count number of inliers within a certain distance threshold between each point and plane. ~\newline

\end{DoxyItemize}
\item Choose the plane that resulted in maximum number of inliers. ~\newline

\item Implemented as part of {\ttfamily class \mbox{\hyperlink{classtapl_1_1pte_1_1Plane}{tapl\+::pte\+::\+Plane()}}}. ~\newline

\end{DoxyItemize}
\item Perform Euclidian Clustering within the segmented point-\/cloud. ~\newline

\begin{DoxyItemize}
\item Store the point-\/cloud as a {\bfseries{Kd\+Tree}}. Implemented as {\ttfamily struct \mbox{\hyperlink{structtapl_1_1pte_1_1KdTree}{tapl\+::pte\+::\+Kd\+Tree}}}. ~\newline

\item Perform euclidean clustering on the Kd\+Tree. Implemented as {\ttfamily class \mbox{\hyperlink{classtapl_1_1pte_1_1EuclideanCluster}{tapl\+::pte\+::\+Euclidean\+Cluster()}}}. ~\newline

\end{DoxyItemize}
\item Filter and Extract the bounding-\/boxes. ~\newline

\end{DoxyItemize}

 
\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{lidarObjectDetection.gif}}
\end{DoxyImageNoCaption}
  

~\newline


 
\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{clustering.gif}}
\end{DoxyImageNoCaption}
  

~\newline


\doxysubsubsection*{Panaromic Image Stitching}

This example is provided at {\ttfamily examples/src/panoramic\+Stitching.\+cpp} and this functionality is implemented as {\ttfamily \mbox{\hyperlink{namespacetapl_1_1cve_aab4041f410589ff960febecf36b3ee2b}{tapl\+::cve\+::stitch\+Panaromic()}}}. ~\newline


 
\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{panoramic_stitching.png}}
\end{DoxyImageNoCaption}
  

\doxysubsubsection*{Image Feature Detection and Tracking}

This example is provided at {\ttfamily examples/src/kpts\+Detection\+And\+Tracking.\+cpp} and this functionality is implemented as {\ttfamily \mbox{\hyperlink{namespacetapl_1_1cve_aa748fe1b014fc3f0382896ce09b90b6a}{tapl\+::cve\+::detect\+And\+Match\+Kpts()}}}.

 
\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{matching_points.png}}
\end{DoxyImageNoCaption}
  

\doxysubsubsection*{R\+A\+N\+S\+AC for line and plane fitting}


\begin{DoxyItemize}
\item C++ implementation of R\+A\+N\+S\+AC for line and plane fitting using both S\+VD and least-\/square methods are provided as part of {\ttfamily class \mbox{\hyperlink{classtapl_1_1pte_1_1Line}{tapl\+::pte\+::\+Line()}}} and {\ttfamily class \mbox{\hyperlink{classtapl_1_1pte_1_1Plane}{tapl\+::pte\+::\+Plane()}}}. ~\newline

\end{DoxyItemize}

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Line Fitting using R\+A\+N\+S\+AC }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Plane Fitting using R\+A\+N\+S\+AC  }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Line Fitting using R\+A\+N\+S\+AC }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Plane Fitting using R\+A\+N\+S\+AC  }\\\cline{1-2}
\endhead
\PBS\centering  
\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{line_fitting.png}}
\end{DoxyImageNoCaption}
    &\PBS\centering  
\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{plane_fitting.png}}
\end{DoxyImageNoCaption}
     \\\cline{1-2}
\end{longtabu}


\doxysection*{Prerequisites}


\begin{DoxyItemize}
\item C\+Make $>$= 3.\+5
\item Open\+CV $>$= 4.\+1
\item P\+CL $>$= 1.\+2 ~\newline

\item Eigen $>$= 3.\+2
\end{DoxyItemize}

\doxysection*{Installation Instructions}


\begin{DoxyItemize}
\item Download the library. ~\newline

\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{git clone https://github.com/towardsautonomy/TAPL.git}
\end{DoxyCode}



\begin{DoxyItemize}
\item Build and install the library as follows. ~\newline

\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{mkdir build  }
\DoxyCodeLine{cd build}
\DoxyCodeLine{cmake ..}
\DoxyCodeLine{make}
\DoxyCodeLine{sudo make install}
\end{DoxyCode}



\begin{DoxyItemize}
\item Build the examples as follows. ~\newline

\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{cd examples}
\DoxyCodeLine{mkdir build}
\DoxyCodeLine{cd build}
\DoxyCodeLine{cmake ..}
\DoxyCodeLine{make}
\end{DoxyCode}


\doxysection*{Contributions}

T\+A\+PL is a free open source platform. Any contribution to this platform is welcome and appreciated. 